<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ME</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Jost&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">
    
</head>
<body>
    <header>
        <div class="container">
            <button id="musicHealth" class="btnMusic">MUSIC: OFF</button>
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-pie" class="svg" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 544 512"><path fill="currentColor" d="M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"></path></svg>
                <nav class="navbar">
                <ul>
                    <li><a href="index.html">ABOUT</a></li>
                    <li><a href="me.html">HEALTH</a></li>
                    <li><a href="others.html">ECONOMIC</a></li>
                    <li><a href="social.html">SOCIAL</a></li>
                    <li><a href="lang.html">LANGUAGE</a></li>
                </ul>
            </nav>
        </div>
        
    </header>

    <audio id="myAudio">
        <source src="TimeShift.mp3" type="audio/mp3">
    </audio>

    <div class="content">   
        <h1 class="contentHeaderPoverty">I'M LIVING IN EXTREME POVERTY</h1>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="hand-holding-usd" class="svgHeart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M271.06,144.3l54.27,14.3a8.59,8.59,0,0,1,6.63,8.1c0,4.6-4.09,8.4-9.12,8.4h-35.6a30,30,0,0,1-11.19-2.2c-5.24-2.2-11.28-1.7-15.3,2l-19,17.5a11.68,11.68,0,0,0-2.25,2.66,11.42,11.42,0,0,0,3.88,15.74,83.77,83.77,0,0,0,34.51,11.5V240c0,8.8,7.83,16,17.37,16h17.37c9.55,0,17.38-7.2,17.38-16V222.4c32.93-3.6,57.84-31,53.5-63-3.15-23-22.46-41.3-46.56-47.7L282.68,97.4a8.59,8.59,0,0,1-6.63-8.1c0-4.6,4.09-8.4,9.12-8.4h35.6A30,30,0,0,1,332,83.1c5.23,2.2,11.28,1.7,15.3-2l19-17.5A11.31,11.31,0,0,0,368.47,61a11.43,11.43,0,0,0-3.84-15.78,83.82,83.82,0,0,0-34.52-11.5V16c0-8.8-7.82-16-17.37-16H295.37C285.82,0,278,7.2,278,16V33.6c-32.89,3.6-57.85,31-53.51,63C227.63,119.6,247,137.9,271.06,144.3ZM565.27,328.1c-11.8-10.7-30.2-10-42.6,0L430.27,402a63.64,63.64,0,0,1-40,14H272a16,16,0,0,1,0-32h78.29c15.9,0,30.71-10.9,33.25-26.6a31.2,31.2,0,0,0,.46-5.46A32,32,0,0,0,352,320H192a117.66,117.66,0,0,0-74.1,26.29L71.4,384H16A16,16,0,0,0,0,400v96a16,16,0,0,0,16,16H372.77a64,64,0,0,0,40-14L564,377a32,32,0,0,0,1.28-48.9Z"></path></svg>        
        <p class="contentFooterPoverty">Share of the population living in extreme poverty, 2016</p>
        <p id="country1" class="obesePercentage">South Africa</p>
        <p id="country2" class="obesePercentage">Iraq</p>
        <p id="country3" class="obesePercentage">United States</p>
        <p id="country4" class="obesePercentage">China</p>
        <p id="country5" class="obesePercentage">Canada</p>
        <p id="country6" class="obesePercentage">Turkey</p>
        <p id="country7" class="obesePercentage">United Kingdom</p>
        <p id="country8" class="obesePercentage">Iran</p>
        <p id="country9" class="obesePercentage">Russia</p>
        <p id="country10" class="obesePercentage">Switzerland</p>
        <p id="country11" class="obesePercentage">Germany</p>
        <p id="num1" class="obesePercentageNumber">%36</p>
        <p id="num2" class="obesePercentageNumber">%32</p>
        <p id="num3" class="obesePercentageNumber">%31</p>
        <p id="num4" class="obesePercentageNumber">%30</p>
        <p id="num5" class="obesePercentageNumber">%29</p>
        <p id="num6" class="obesePercentageNumber">%27</p>
        <p id="num7" class="obesePercentageNumber">%25</p>
        <p id="num8" class="obesePercentageNumber">%23</p>
        <p id="num9" class="obesePercentageNumber">%22</p>
        <p id="num10" class="obesePercentageNumber">%10</p>
        <p id="num11" class="obesePercentageNumber">%6</p>   
        <div id="Us" class="progressBar"></div> 
        <div id="Tr" class="progressBar"></div> 
        <div id="Ua" class="progressBar"></div> 
        <div id="Iq" class="progressBar"></div> 
        <div id="Ca" class="progressBar"></div> 
        <div id="Uk" class="progressBar"></div>       
        <div id="Ir" class="progressBar"></div> 
        <div id="Ru" class="progressBar"></div> 
        <div id="De" class="progressBar"></div> 
        <div id="Af" class="progressBar"></div> 
        <div id="Ch" class="progressBar"></div> 
        <p id="graphFooter" onclick="link()" class="graphFooterPovertySource">Source: Our World In Data, World Bank</p>
        <p class="quoteObese">“An imbalance between rich and poor is the oldest and most fatal ailment of all republics.”
            — Plutarch, Greek historian</p>
        <p class="quoteObese2">“Poverty is the worst form of violence.”
            — Mahatma Gandhi, Indian political and spiritual leader</p>
        <p class="quoteObese3">“Poverty is like punishment for a crime you didn't commit.”
            — Eli Khamarov, writer</p>
    </div>
    <div class="content">   
        <h1 class="contentHeaderPoverty2">I'M WORKING ... HOURS ANNUALLY</h1>
        <p class="contentFooterPoverty">Average annual working hours per employed person, 2017</p>
        <p id="country1" class="obesePercentage">Mexico</p>
        <p id="country2" class="obesePercentage">South Africa</p>
        <p id="country3" class="obesePercentage">China</p>
        <p id="country4" class="obesePercentage">India</p>
        <p id="country5" class="obesePercentage">Greece</p>
        <p id="country6" class="obesePercentage">Turkey</p>
        <p id="country7" class="obesePercentage">United States</p>
        <p id="country8" class="obesePercentage">Canada</p>
        <p id="country9" class="obesePercentage">United Kingdom</p>
        <p id="country10" class="obesePercentage">Switzerland</p>
        <p id="country11" class="obesePercentage">Germany</p>
        <p id="num1" class="obesePercentageNumber">2,255h</p>
        <p id="num2" class="obesePercentageNumber">2,209h</p>
        <p id="num3" class="obesePercentageNumber">2,174h</p>
        <p id="num4" class="obesePercentageNumber">2,117h</p>
        <p id="num5" class="obesePercentageNumber">2,016h</p>
        <p id="num6" class="obesePercentageNumber">1,832h</p>
        <p id="num7" class="obesePercentageNumber">1,757h</p>
        <p id="num8" class="obesePercentageNumber">1,696h</p>
        <p id="num9" class="obesePercentageNumber">1,670h</p>
        <p id="num10" class="obesePercentageNumber">1,589h</p>
        <p id="num11" class="obesePercentageNumber">1,353h</p>   
        <div id="Us" class="progressBar"></div> 
        <div id="Tr" class="progressBar"></div> 
        <div id="Ua" class="progressBar"></div> 
        <div id="Iq" class="progressBar"></div> 
        <div id="Ca" class="progressBar"></div> 
        <div id="Uk" class="progressBar"></div>       
        <div id="Ir" class="progressBar"></div> 
        <div id="Ru" class="progressBar"></div> 
        <div id="De" class="progressBar"></div> 
        <div id="Af" class="progressBar"></div> 
        <div id="Ch" class="progressBar"></div> 
        
    </div>
    

    <script>      

        document.addEventListener("load", applyPercentagetoGraph);
        document.addEventListener("click",music)
        
        function link(){
            window.open('https://ourworldindata.org/grapher/share-of-the-population-living-in-extreme-poverty?tab=chart&year=latest&time=latest&country=CAN+CHN+DEU+IRN+IRQ+RUS+ZAF+CHE+TUR+GBR+USA', '_blank');
        }
        
        var state = false;
        var song = document.getElementById("myAudio"); 
        function music(){
            
            if(state == false){
                state = true;
                document.getElementById("musicHealth").innerHTML = "MUSIC: ON"
                song.play();
            }
            else{
                state = false;
                document.getElementById("musicHealth").innerHTML = "MUSIC: OFF"
                song.pause();
            }
        }
        //JSON işlenmediği için sadece bu şekilde yapabiliyorum hocam.
        var us = document.getElementById("Us").style;
        var tr = document.getElementById("Tr").style;
        var ua = document.getElementById("Ua").style;
        var iq = document.getElementById("Iq").style;
        var ca = document.getElementById("Ca").style;
        var uk = document.getElementById("Uk").style;
        var ir = document.getElementById("Ir").style;
        var ru = document.getElementById("Ru").style;
        var de = document.getElementById("De").style;    
        var af = document.getElementById("Af").style;
        var ch = document.getElementById("Ch").style;

        var num1 = document.getElementById("num1");
        var num2 = document.getElementById("num2");
        var num3 = document.getElementById("num3");
        var num4 = document.getElementById("num4");
        var num5 = document.getElementById("num5");
        var num6 = document.getElementById("num6");
        var num7 = document.getElementById("num7");
        var num8 = document.getElementById("num8");
        var num9 = document.getElementById("num9");
        var num10 = document.getElementById("num10");
        var num11 = document.getElementById("num11");

        var stretchCnt = 0;
        var countries = [us,tr,ua,iq,ca,uk,ir,ru,de,af,ch];

        var data = [18.9,2.5,1.2,0.7,0.5,0.2,0.2,0.2,0.050,0.010,0]

        var percentageElem = [num1,num2,num3,num4,num5,num6,num7,num8,num9,num10,num11]

        applyPercentagetoGraph();

        applyPercentagetoText();

        stretch();

        function applyPercentagetoGraph(){
            
            for (i = 0; i < countries.length; i++) {
                countries[i].width = data[i]*10 + "px";
                console.log(data[i])
            } 

        }

        function applyPercentagetoText(){

            for (i = 0; i < percentageElem.length; i++) {
                percentageElem[i].innerHTML = data[i] + "%";
                console.log("Enter");
                
            } 
        }

        function stretch(){
            console.log("LOLL")
            for (i = 0; i < data.length; i++) {
                if(data[i] <= 20){
                    stretchCnt += 1;
                }           
            } 
            if(stretchCnt == data.length){         
                for (i = 0; i < countries.length; i++) {
                    widthVal = countries[i].width;
                    widthVal = widthVal.replace("px","");
                    countries[i].width = countries[i].width*2 + "px";
                } 
            }
        }
    </script>     
    
       
</body>
</html>