<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sablon</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Jost&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">

    
    
</head>
<body>
    <header>
        <div class="container">
            <button id="musicHealth" class="btnMusic">MUSIC: OFF</button>
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chart-pie" class="svg" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 544 512"><path fill="currentColor" d="M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"></path></svg>
            <nav class="navbar">
                <ul>
                    <li><a href="index_tr.html">HAKKINDA</a></li>
                    <li><a href="me_tr.html">SAĞLIK</a></li>
                    <li><a href="others_tr.html">EKONOMİK</a></li>
                    <li><a href="social_tr.html">SOSYAL</a></li>
                    <li><a href="lang_tr.html">DİL</a></li>
                </ul>
            </nav>
        </div>
        
        
    </header>
    <audio id="myAudio">
        <source src="REFLECTION.mp3" type="audio/mp3">
    </audio>
    <div class="content">
        <h1 class="contentHeaderObese">BEN OBEZİM</h1>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heartbeat" class="svgHeart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"></path></svg>
        <p class="contentFooterObese">Yetişkinlerde obez olanların payı, 2016</p>
        <p class="obesePercentage">Amerika</p>
        <p class="obesePercentage">Türkiye</p>
        <p class="obesePercentage">Birleşik Arap Emirlikleri</p>
        <p class="obesePercentage">Irak</p>
        <p class="obesePercentage">Kanada</p>
        <p class="obesePercentage">İngiltere</p>
        <p class="obesePercentage">İran</p>
        <p class="obesePercentage">Rusya</p>
        <p class="obesePercentage">Almanya</p>
        <p class="obesePercentage">Afrika</p>
        <p class="obesePercentage">Çin</p>
        <p id="num1" class="obesePercentageNumber">%36</p>
        <p id="num2" class="obesePercentageNumber">%32</p>
        <p id="num3" class="obesePercentageNumber">%31</p>
        <p id="num4" class="obesePercentageNumber">%30</p>
        <p id="num5" class="obesePercentageNumber">%29</p>
        <p id="num6" class="obesePercentageNumber">%27</p>
        <p id="num7" class="obesePercentageNumber">%25</p>
        <p id="num8" class="obesePercentageNumber">%23</p>
        <p id="num9" class="obesePercentageNumber">%22</p>
        <p id="num10" class="obesePercentageNumber">%10</p>
        <p id="num11" class="obesePercentageNumber">%6</p>     
        <div id="Us" class="progressBar"></div> 
        <div id="Tr" class="progressBar"></div> 
        <div id="Ua" class="progressBar"></div> 
        <div id="Iq" class="progressBar"></div> 
        <div id="Ca" class="progressBar"></div> 
        <div id="Uk" class="progressBar"></div>       
        <div id="Ir" class="progressBar"></div> 
        <div id="Ru" class="progressBar"></div> 
        <div id="De" class="progressBar"></div> 
        <div id="Af" class="progressBar"></div> 
        <div id="Ch" class="progressBar"></div> 
        <p id="graphFooter" onclick="link()" class="graphFooterObeseSource">Kaynak: Our World In Data, IHME, Global Burden of Disease</p>
        <p class="quoteObese">“Amerikada yemek azlığına göre yemek fazlalığından daha çok insan ölüyor.” -John Kenneth Galbraith</p>
    </div>
    

    <script>      

        document.addEventListener("load", applyPercentagetoGraph);
        
        function link(){
            console.log("Hi");
            window.open('https://ourworldindata.org/grapher/share-of-adults-defined-as-obese?tab=chart&year=latest&time=latest&country=Africa+CAN+CHN+EGY+DEU+GRC+IRN+IRQ+JPN+RUS+ZAF+TUR+ARE+GBR+USA', '_blank');
        }
        document.addEventListener("click",music)

        function link(){
            window.open('https://ourworldindata.org/grapher/share-of-the-population-living-in-extreme-poverty?tab=chart&year=latest&time=latest&country=CAN+CHN+DEU+IRN+IRQ+RUS+ZAF+CHE+TUR+GBR+USA', '_blank');
        }
        var state = false;
        var song = document.getElementById("myAudio"); 
        function music(){
            
            if(state == false){
                state = true;
                document.getElementById("musicHealth").innerHTML = "MUSIC: ON"
                song.play();
            }
            else{
                state = false;
                document.getElementById("musicHealth").innerHTML = "MUSIC: OFF"
                song.pause();
            }
        }
        var stretchCnt = 0;
        //JSON işlenmediği için sadece bu şekilde yapabiliyorum hocam.
        var us = document.getElementById("Us").style;
        var tr = document.getElementById("Tr").style;
        var ua = document.getElementById("Ua").style;
        var iq = document.getElementById("Iq").style;
        var ca = document.getElementById("Ca").style;
        var uk = document.getElementById("Uk").style;
        var ir = document.getElementById("Ir").style;
        var ru = document.getElementById("Ru").style;
        var de = document.getElementById("De").style;   
        var af = document.getElementById("Af").style;
        var ch = document.getElementById("Ch").style;

        var num1 = document.getElementById("num1");
        var num2 = document.getElementById("num2");
        var num3 = document.getElementById("num3");
        var num4 = document.getElementById("num4");
        var num5 = document.getElementById("num5");
        var num6 = document.getElementById("num6");
        var num7 = document.getElementById("num7");
        var num8 = document.getElementById("num8");
        var num9 = document.getElementById("num9");
        var num10 = document.getElementById("num10");
        var num11 = document.getElementById("num11");

        var countries = [us,tr,ua,iq,ca,uk,ir,ru,de,af,ch];

        var data = [36,32,31,30,29,27,25,23,22,10,6]

        var percentageElem = [num1,num2,num3,num4,num5,num6,num7,num8,num9,num10,num11]

        applyPercentagetoGraph();

        applyPercentagetoText();

        stretch();

        function applyPercentagetoGraph(){
            
            for (i = 0; i < countries.length; i++) {
                countries[i].width = data[i]*10 + "px";
                console.log(data[i])
            } 

        }

        function applyPercentagetoText(){

            for (i = 0; i < percentageElem.length; i++) {
                percentageElem[i].innerHTML = data[i] + "%";
                console.log("Enter");
            
            } 
        }

        function stretch(){
            for (i = 0; i < data.length; i++) {
                if(data[i] <= 20){
                    stretchCnt += 1;
                }           
            } 
            if(stretchCnt == data.length){         
                for (i = 0; i < countries.length; i++) {
                countries[i].width = countries[i].width*2;
                } 
            }
        }

        
    </script>     
</body>
</html>